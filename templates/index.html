{% extends 'base.html' %}
{% load static %}

{% block content %}
<!-- Hero Section -->
<section class="hero" id="home">
    <div class="container">
        <div class="hero-content">
            <div class="hero-text">
                <h1 class="hero-title">
                    Hi, I'm <span class="gradient-text">{{ profile.name }}</span>
                </h1>
                <h2 class="hero-subtitle">{{ profile.title }}</h2>
                
                <div class="hero-buttons">
                    <a href="#contact" class="btn btn-primary">Get In Touch</a>
                    <a href="#projects" class="btn btn-secondary">View Projects</a>
                    {% if profile.cv %}
                    <a href="{{ profile.cv.url }}" class="btn btn-outline" download>Download CV</a>
                    {% endif %}
                </div>
            </div>
            <div class="hero-image">
                {% if profile.profile_image %}
                <img src="{{ profile.profile_image.url }}" alt="{{ profile.name }}">
                {% else %}
                <div class="placeholder-image">
                    <i class="fas fa-user"></i>
                </div>
                {% endif %}
            </div>
        </div>
    </div>
    <div class="hero-scroll">
        <a href="#about"><i class="fas fa-chevron-down"></i></a>
    </div>
</section>

<!-- About Section -->
<section class="about" id="about">
    <div class="container">
        <h2 class="section-title">About Me</h2>
        <div class="about-content">
            <p>{{ profile.bio }}</p>
        </div>
    </div>
</section>

<!-- Skills Section -->
<section class="skills" id="skills">
    <div class="container">
        <h2 class="section-title">Skills & Technologies</h2>
        {% for category, category_skills in skills_by_category.items %}
        <div class="skill-category">
            <h3 class="skill-category-title">{{ category|title }}</h3>
            <div class="skills-grid">
                {% for skill in category_skills %}
                <div class="skill-card">
                    {% if skill.icon %}
                    <i class="{{ skill.icon }} skill-icon"></i>
                    {% endif %}
                    <h4>{{ skill.name }}</h4>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: {{ skill.proficiency }}%"></div>
                    </div>
                    <span class="proficiency">{{ skill.proficiency }}%</span>
                </div>
                {% endfor %}
            </div>
        </div>
        {% endfor %}
    </div>
</section>

<!-- Featured Projects Section -->
<section class="projects-preview" id="projects">
    <div class="container">
        <h2 class="section-title">Featured Projects</h2>
        <div class="projects-grid">
            {% for project in featured_projects %}
            <div class="project-card">
                <div class="project-image">
                    <img src="{{ project.featured_image.url }}" alt="{{ project.title }}">
                    <div class="project-overlay">
                        <a href="{% url 'project_detail' project.slug %}" class="btn btn-primary">View Details</a>
                    </div>
                </div>
                <div class="project-info">
                    <h3>{{ project.title }}</h3>
                    <p>{{ project.short_description }}</p>
                    <div class="project-tech">
                        {% for tech in project.get_technologies_list %}
                        <span class="tech-tag">{{ tech }}</span>
                        {% endfor %}
                    </div>
                    <div class="project-links">
                        {% if project.github_url %}
                        <a href="{{ project.github_url }}" target="_blank"><i class="fab fa-github"></i> Code</a>
                        {% endif %}
                        {% if project.live_url %}
                        <a href="{{ project.live_url }}" target="_blank"><i class="fas fa-external-link-alt"></i> Live Demo</a>
                        {% endif %}
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
        <div class="text-center">
            <a href="{% url 'projects' %}" class="btn btn-primary">View All Projects</a>
        </div>
    </div>
</section>

<!-- Education Section -->
{% if education %}
<section class="education" id="education">
    <div class="container">
        <h2 class="section-title">Education</h2>
        <div class="timeline">
            {% for edu in education %}
            <div class="timeline-item">
                <div class="timeline-marker"></div>
                <div class="timeline-content">
                    <h3>{{ edu.degree }}</h3>
                    <h4>{{ edu.institution }}</h4>
                    <p class="timeline-date">
                        {{ edu.start_date|date:"Y" }} - 
                        {% if edu.is_current %}Present{% else %}{{ edu.end_date|date:"Y" }}{% endif %}
                    </p>
                    <p>{{ edu.field_of_study }}</p>
                    {% if edu.description %}
                    <p class="timeline-description">{{ edu.description }}</p>
                    {% endif %}
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>
{% endif %}

<!-- Experience Section -->
{% if experience %}
<section class="experience" id="experience">
    <div class="container">
        <h2 class="section-title">Experience</h2>
        <div class="timeline">
            {% for exp in experience %}
            <div class="timeline-item">
                <div class="timeline-marker"></div>
                <div class="timeline-content">
                    <h3>{{ exp.title }}</h3>
                    <h4>{{ exp.company }}{% if exp.location %} - {{ exp.location }}{% endif %}</h4>
                    <p class="timeline-date">
                        {{ exp.start_date|date:"M Y" }} - 
                        {% if exp.is_current %}Present{% else %}{{ exp.end_date|date:"M Y" }}{% endif %}
                    </p>
                    <p class="timeline-description">{{ exp.description|linebreaks }}</p>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>
{% endif %}

<!-- Contact Section -->
<section class="contact" id="contact">
    <div class="container">
        <h2 class="section-title">Get In Touch</h2>
        <div class="contact-content">
            <div class="contact-info">
                <h3>Let's work together!</h3>
                <p>I'm always open to discussing new projects, creative ideas, or opportunities.</p>
                {% if profile.email %}
                <div class="contact-item">
                    <i class="fas fa-envelope"></i>
                    <a href="mailto:{{ profile.email }}">{{ profile.email }}</a>
                </div>
                {% endif %}
            </div>
            <div class="contact-form">
                {% if messages %}
                    {% for message in messages %}
                    <div class="alert alert-{{ message.tags }}">
                        {{ message }}
                    </div>
                    {% endfor %}
                {% endif %}
                <form method="post" action="{% url 'index' %}#contact">
                    {% csrf_token %}
                    {{ form.as_p }}
                    <button type="submit" class="btn btn-primary">Send Message</button>
                </form>
            </div>
        </div>
    </div>
</section>
{% endblock %}